<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symptom Submission - Mediguide</title>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet">
</head>

<body>
    {% include 'prescribe/navbar.html' %}

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-sm p-4">
                    <h3 class="text-center mb-4">Describe Your Symptoms</h3>



                    <form method="POST" action="{% url 'prescribe' %}">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label for="symptoms"
                                class="form-label fw-bold">Symptoms &
                                Details</label>
                            <textarea class="form-control" id="symptoms"
                                name="symptoms" rows="6"
                                placeholder="Example: Describe any pain, fever, cough, fatigue, or other symptoms. Include duration, severity, and triggers."
                                required>{{ form.symptoms.data }}</textarea>
                            <div class="form-text">Provide as much detail as
                                possible so the AI can generate accurate
                                recommendations.</div>
                        </div>
                        <input type="hidden" id="latitude" name="latitude">
                        <input type="hidden" id="longitude" name="longitude">

                        <div class="d-grid">
                            <button type="submit"
                                class="btn btn-primary btn-lg">Generate
                                Prescription</button>
                        </div>
                    </form>

                    <div class="mt-4 text-muted small">
                        <p><strong>Guidelines:</strong></p>
                        <ul>
                            <li>Include all symptoms you are currently
                                experiencing.</li>
                            <li>Mention when the symptoms started and their
                                severity.</li>
                            <li>Include any pre-existing conditions or
                                medications.</li>
                            <li>Be honest and detailed for accurate
                                suggestions.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((position) => {
                    document.getElementById("latitude").value = position.coords.latitude;
                    document.getElementById("longitude").value = position.coords.longitude;
                    document.getElementById("near-by-clinics").setAttribute(
                        "href",
                        "/clinics/" + position.coords.latitude + "/" + position.coords.longitude
                    );
                });
            }
        });
    </script>
</body>

</html>