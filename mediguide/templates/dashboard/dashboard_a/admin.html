
{% extends 'dashboard/base3.html' %}
{% load static %}
{% block content %}
{% if messages %}
{% for message in messages %}
<script>
  notify('{{message.level_tag}}', "{{message}}");
</script>

{% endfor %}

{% endif %}
<style>
  
  table{
font-size: 13px !important;
width: 95%;
margin: auto;
text-align: center;
}
th{
  font-size: 8px;
}

/*Make alternating colors for the table rows*/
/* .table tr:nth-child(odd){
background: #B8CAE4
}

.table tr:nth-child(even){
background: #dae5f4
} */

thead {
background-color: #34c38f;
color: white;
}
.display_table{
border-bottom-right-radius: 20px;
/*border-bottom-left-radius: 20px;*/
padding-left: 5px;
padding-right: 5px;
padding-bottom: 20px;
box-shadow: 12px 12px 20px 6px #2e6da4;
}
td{
  padding: 6px;
line-height: 1.428571429;
vertical-align: top;
border-top: 1px solid #dddddd;
text-align: justify;
font-size:10px;
}
.page_links{
cursor: pointer;

}
  
  .pagination { display: inline-block;}
  .pagination a { color: black; float: left; padding: 8px 16px; text-decoration: none;}
  .pagination a.active { background-color: #4CAF50; color: white;}
  .pagination a:hover:not(.active) {background-color: #ddd;}
  .actionbtns{
    cursor: pointer;
  
  }
  .page_links{
  cursor: pointer;

}
		
		.pagination { display: inline-block;}
		.pagination a { color: black; float: left; padding: 8px 16px; text-decoration: none;}
		.pagination a.active { background-color: #4CAF50; color: white;}
		.pagination a:hover:not(.active) {background-color: #ddd;}
		.actionbtns{
      cursor: pointer;
    
    }

.led-box {
  height: 11px;
  width: 25%;
  
  float: left;
}


.led-green {
  margin: 0 auto;
  width: 10px;
  height: 10px;
  background-color: #0dff00;
  border-radius: 50%;
  box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(0, 100, , 0.5) 0 2px 12px;
  -webkit-animation: blinkRed 1.5s infinite;
  -moz-animation: blinkRed 1.5s infinite;
  -ms-animation: blinkRed 1.5s infinite;
  -o-animation: blinkRed 1.5s infinite;
  animation: blinkRed 1.5s infinite;
}

@-webkit-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@-moz-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@-ms-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@-o-keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}
@keyframes blinkRed {
    from { background-color: #0dff00; }
    50% { background-color: #00aa2a; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #1a823b 0 -1px 9px, rgba(0, 100, 0, 0.5) 0 2px 0;}
    to { background-color: #0dff00; }
}







.highcharts-figure{
  min-height: 200px;
}

.dropbtn {
  color: #000;
  padding: 1px;
  font-size: 1px;
  border: none;
  cursor: pointer;
}

/* The container <div> - needed to position the dropdown content */
.dropdown {
  position: relative;
  display: inline-block;
}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 200px;
  left:-144px;
  height: 300px !important;
  overflow: auto;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 9;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  /* padding: 12px 16px; */
  text-decoration: none;
  display: block;
}
.btn-app-dropdown:hover{
  background-color: #ccc;
}
.btn-app-dropdown{
  Border-bottom:1px solid #ccc
}
/* Change color of dropdown links on hover */
/* .dropdown-content a:hover {background-color: #f1f1f1} */

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {
  display: block;
}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {
  
}








th{
  text-transform: uppercase;
}



.btn-app-dropdown{
  text-align: left;
}
.graphs{
  min-height: 200px;
}
.highcharts-figure,
.highcharts-data-table table {
    min-width: 320px;
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-data-table table {
    font-family: Verdana, sans-serif;
    border-collapse: collapse;
    border: 1px solid #ebebeb;
    margin: 10px auto;
    text-align: center;
    width: 100%;
    max-width: 500px;
}

.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}

.highcharts-data-table th {
    font-weight: 600;
    padding: 0.5em;
}

.highcharts-data-table td,
.highcharts-data-table th,
.highcharts-data-table caption {
    padding: 0.5em;
}

.highcharts-data-table thead tr,
.highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}

.highcharts-data-table tr:hover {
    background: #f1f7ff;
}
  .count{
    font-weight: bold;
    color: #fff !important;
  }
  .countb{
    font-weight: bold;
    color: #000 !important;
  }
  .fw-bold{
    font-weight: bold;
    color: #fff !important;
  }
  .graphs{
  min-height: 200px;
}
.highcharts-figure,
.highcharts-data-table table {
    min-width: 320px;
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-data-table table {
    font-family: Verdana, sans-serif;
    border-collapse: collapse;
    border: 1px solid #ebebeb;
    margin: 10px auto;
    text-align: center;
    width: 100%;
    max-width: 500px;
}

.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}

.highcharts-data-table th {
    font-weight: 600;
    padding: 0.5em;
}

.highcharts-data-table td,
.highcharts-data-table th,
.highcharts-data-table caption {
    padding: 0.5em;
}

.highcharts-data-table thead tr,
.highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}

.highcharts-data-table tr:hover {
    background: #f1f7ff;
}
/* .highcharts-figure,
.highcharts-data-table table {
    min-width: 320px;
    max-width: 660px;
    margin: 1em auto;
}

.highcharts-data-table table {
    font-family: Verdana, sans-serif;
    border-collapse: collapse;
    border: 1px solid #ebebeb;
    margin: 10px auto;
    text-align: center;
    width: 100%;
    max-width: 500px;
}

.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}

.highcharts-data-table th {
    font-weight: 600;
    padding: 0.5em;
}

.highcharts-data-table td,
.highcharts-data-table th,
.highcharts-data-table caption {
    padding: 0.5em;
}

.highcharts-data-table thead tr,
.highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}

.highcharts-data-table tr:hover {
    background: #f1f7ff;
} */

</style>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<!-- <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.2/css/buttons.dataTables.min.css"> -->
<div class="row row-cols-1 row-cols-md-2 row-cols-xl-4" style="margin-top:10px;margin-bottom: 10px;">
    <div class="col">
        <div class="card radius-10 bg-gradient-deepblue">
         <div class="card-body">
            <div class="d-flex align-items-center">
                <h6 class="mb-0 count ">{{businesses}}</h6>
                <div class="ms-auto">
                    <!-- <i class='bx bx-cart fs-3 '></i> -->
                </div>
            </div>
            <div class="progress my-3 bg-light-transparent" style="height:3px;">
                <div class="progress-bar bg-white" role="progressbar" style="width: 55%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <div class="d-flex align-items-center ">
                <p class="mb-0 fw-bold" style="font-size: 12px;">Institutions</p>
                <!-- <p class="mb-0 fw-bold ms-auto">+4.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> -->
            </div>
        </div>
      </div>
    </div>
    <div class="col">
        <div class="card radius-10 bg-gradient-orange">
        <div class="card-body">
            <div class="d-flex align-items-center">
                <h6 class="mb-0 count ">{{branches}}</h6>
                <div class="ms-auto">
                    <!-- <i class='bx bx-dollar fs-3 '></i> -->
                </div>
            </div>
            <div class="progress my-3 bg-light-transparent" style="height:3px;">
                <div class="progress-bar bg-white" role="progressbar" style="width: 55%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <div class="d-flex align-items-center ">
                <p class="mb-0 fw-bold" style="font-size: 12px;">Regulations</p>
                <!-- <p class="mb-0 fw-bold ms-auto">+1.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> -->
            </div>
        </div>
      </div>
    </div>
    <div class="col">
        <div class="card radius-10 bg-gradient-ohhappiness">
        <div class="card-body">
            <div class="d-flex align-items-center">
                <h6 class="mb-0 count ">{{purchasses}}</h6>
                <div class="ms-auto">
                    <!-- <i class='bx bx-group fs-3 '></i> -->
                </div>
            </div>
            <div class="progress my-3 bg-light-transparent" style="height:3px;">
                <div class="progress-bar bg-white" role="progressbar" style="width: 55%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <div class="d-flex align-items-center ">
                <p class="mb-0 fw-bold" style="font-size: 12px;">Defaults</p>
                <!-- <p class="mb-0 fw-bold ms-auto">+5.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> -->
            </div>
        </div>
    </div>
    </div>
    <div class="col">
        <div class="card radius-10 bg-gradient-ibiza">
         <div class="card-body">
            <div class="d-flex align-items-center">
                <h6 class="mb-0 count ">{{sales}}</h6>
                <div class="ms-auto">
                    <!-- <i class='bx bx-envelope fs-3 '></i> -->
                </div>
            </div>
            <div class="progress my-3 bg-light-transparent" style="height:3px;">
                <div class="progress-bar bg-white" role="progressbar" style="width: 55%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <div class="d-flex align-items-center ">
                <p class="mb-0 fw-bold" style="font-size: 12px;">Audits</p>
                <!-- <p class="mb-0 fw-bold ms-auto">+2.2%<span><i class='bx bx-up-arrow-alt'></i></span></p> -->
            </div>
        </div>
     </div>
    </div>
</div><!--end row-->

<div class="row" style="display: none;">

  <div class="col-sm-6">
    <!-- <div class="col-sm-12">Bursary Accounts Summary</div> -->
  <div class="card">
  <div class="card-body" >
    
    <figure class="highcharts-figure">
      <div id="budget_summary"></div>
     
    <table id="datatable_budget_summary" style="display: none;" >
      <thead>
        <tr>
          <th>NAME</th>
          <th>VALUE</th>
        </tr>
      </thead>
      <tbody>
        {% for item in forum_list %}
        <tr><td>{{item.Title|safe}}</td> <td>{{item.comments}}</td></tr>
           {% endfor %}
        
        
      </tbody>
    </table>
   
    </figure>


</div>
</div>
</div>
<div class="col-sm-6">
<!-- <div class="col-sm-12">Bursary Applications Summary</div> -->
<div class="card">
<div class="card-body" id="">

 
<figure class="highcharts-figure">
  <div id="general_summary"></div>
 
<table id="datatable_general_summary" style="display: none;" >
  <thead>
    <tr>
      <th>NAME</th>
      <th>VALUE</th>
    </tr>
  </thead>
  <tbody>
    {% for item in surveys_list %}
    <tr><td>{{item.name|safe}}</td> <td>{{item.responses}}</td></tr>
       {% endfor %}
    <!-- <tr><td>Total Applications</td> <td>{{total_applications}}</td></tr>
    <tr><td>Under processing</td> <td>{{under_processing}}</td></tr>
    <tr><td>Successful</td> <td>{{successful}}</td></tr>
    <tr><td>Non-Successful</td> <td>{{unsuccessful}}</td></tr>
   -->
  </tbody>
</table>

</figure>
</div>
</div>
</div>
<div class="col-sm-6">
      <!-- <div class="col-sm-12">Bursary Applications Summary</div> -->
    <div class="card">
    <div class="card-body" id="">
     
      <figure class="highcharts-figure">
        <div id="applications_summary"></div>
       
      <table id="datatable_application" style="display: none;" >
        <thead>
          <tr>
            <th>NAME</th>
            <th>VALUE</th>
          </tr>
        </thead>
        <tbody>
      {% for item in social_list %}
          <tr><td>{{item.name}}</td> <td>{{item.comments}}</td></tr>
          {% endfor %}
          <!-- <tr><td>At Evaluation</td> <td>{{evaluation}}</td></tr>
          <tr><td>Returned</td> <td>{{returned}}</td></tr>
          <tr><td>Declined</td> <td>{{declined}}</td></tr>
          <tr><td>At Selection</td> <td>{{selection}}</td></tr>
          <tr><td>At Award</td> <td>{{award}}</td></tr>
          <tr><td>At disbursment</td> <td>{{disbursment}}</td></tr>
          <tr><td>Desbursed</td> <td>{{disbursed}}</td></tr>
           -->
          
        </tbody>
      </table>
     
      </figure>

    </div>
  </div>
</div>

<div class="col-sm-6">

  <div class="card">
  <div class="card-body" >
    
    <figure class="highcharts-figure ">
      <div id="indicator_divone"></div>
     
    
      <table id="datatable_indicatorone" style="display: none;" >
        <thead>
          <tr>
            <th>NAME</th>
            <th>VALUE</th>
          </tr>
        </thead>
        <tbody>
          {% for item in news_list %}
          <tr><td>{{item.name}}</td> <td>{{item.reads}}</td></tr>

          {% endfor %}
          <!-- <tr><td>Female</td> <td>{{femaleapplicants}}</td></tr> -->
          
          
        </tbody>
      </table>
    </figure>


    

</div>
</div>
</div>
<!-- <div class="col-sm-6">
<div class="card">
<div class="card-body" >
 
  <figure class="highcharts-figure">
    <div id="School_levels"></div>
   
  <table id="datatable_School_levels" style="display:none ;" >
    <thead>
      <tr>
        <th>NAME</th>
        <th>VALUE</th>
      </tr>
    </thead>
    <tbody>
     {%for item in educationlevels %}
      <tr><td>{{item.name}}</td> <td>{{item.value}}</td></tr>
     {% endfor %}
      
    </tbody>
  </table>
 
  </figure>
  
</div>
</div>
</div> -->
<!-- 
<div class="col-sm-6">

<div class="card">
<div class="card-body" >
<figure class="highcharts-figure">
<div id="most_applying_schools"></div>

<table id="datatable_most_applying_schools" style="display:none ;" >
<thead>
<tr>
<th>NAME</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
{%for item in mostapplyingschools %}
<tr><td>{{item.name}}</td> <td>{{item.value}}</td></tr>
{% endfor %}

</tbody>
</table>

</figure>


</div>
</div>
</div>
<div class="col-sm-6">

<div class="card">
<div class="card-body" >
<figure class="highcharts-figure">
<div id="most_applying_counties"></div>

<table id="datatable_most_applying_counties" style="display:none ;" >
<thead>
<tr>
<th>NAME</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
{%for item in mostapplyingcounties %}
<tr><td>{{item.name}}</td> <td>{{item.value}}</td></tr>
{% endfor %}

</tbody>
</table>

</figure>


</div>
</div>
</div> -->
<!-- <div class="col-sm-6">

<div class="card">
<div class="card-body" >
<figure class="highcharts-figure">
<div id="most_applying_constituencies"></div>

<table id="datatable_most_applying_constituencies" style="display:none ;" >
<thead>
<tr>
<th>NAME</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
{%for item in mostapplyingconctituencies %}
<tr><td>{{item.name}}</td> <td>{{item.value}}</td></tr>
{% endfor %}

</tbody>
</table>

</figure>


</div>
</div>
</div>
<div class="col-sm-6">

<div class="card">
<div class="card-body" >
<figure class="highcharts-figure">
<div id="most_applying_wards"></div>

<table id="datatable_most_applying_wards" style="display:none ;" >
<thead>
<tr>
<th>NAME</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
{%for item in mostapplyingwards %}
<tr><td>{{item.name}}</td> <td>{{item.value}}</td></tr>
{% endfor %}

</tbody>
</table>

</figure>


</div>
</div>
</div> -->



</div>

<div class="col-sm-12" style="height: 100px;"></div>
<script>
       
       
    document.addEventListener('DOMContentLoaded', function () {
    Highcharts.chart('budget_summary', {
        data: {
            table: 'datatable_budget_summary'
        },
        chart: {
            type: 'column'
        },
        title: {
            text: 'Top 5 Performing Businesses'
        },
        yAxis: {
            allowDecimals: false,
            title: {
                text: 'Number of Sales'
            }
        },
        xAxis: {
            type: 'category'
        },
        tooltip: {
            formatter: function () {
                return '<b>' + this.point.name + '</b>: ' + this.point.y;
            }
        },
        series: [{
            name: 'Businesses',
            colorByPoint: true,
            dataLabels: {
                enabled: true,
                format: '{point.y:.1f}'
            }
        }]
    });
});

document.addEventListener('DOMContentLoaded', function () {
    Highcharts.chart('general_summary', {
        data: {
            table: 'datatable_general_summary'
        },
        chart: {
            type: 'column'
        },
        title: {
            text: 'Top 5 Performing Branches'
        },
        yAxis: {
            allowDecimals: false,
            title: {
                text: 'Number of Sales'
            }
        },
        xAxis: {
            type: 'category'
        },
        tooltip: {
            formatter: function () {
                return '<b>' + this.point.name + '</b>: ' + this.point.y;
            }
        },
        series: [{
            name: 'Branches',
            colorByPoint: true,
            dataLabels: {
                enabled: true,
                format: '{point.y:.0f}' // Display labels without decimals
            }
        }]
    });
});
document.addEventListener('DOMContentLoaded', function () {
    function createChart(containerId, tableId, titleText, yAxisTitle,chartb) {
        Highcharts.chart(containerId, {
            data: {
                table: tableId
            },
            chart: {
              
                type: chartb
            },
            title: {
                text: titleText
            },
            yAxis: {
                allowDecimals: false,
                title: {
                    text: yAxisTitle
                }
            },
            xAxis: {
                type: 'category'
            },
            tooltip: {
                formatter: function () {
                    return '<b>' + this.point.name + '</b>: ' + this.point.y;
                }
            },
            series: [{
                name: yAxisTitle,
                colorByPoint: true,
                dataLabels: {
                    enabled: true,
                    format: '{point.y:.0f}' // Display labels without decimals
                }
            }]
        });
    }

    createChart('applications_summary', 'datatable_application', 'Top 5 Seling Products', 'Number of Products','pie');
    createChart('indicator_divone', 'datatable_indicatorone', 'Top 5 Seling brands', 'Brands','line');
    // createChart('School_levels', 'datatable_School_levels', 'Education Levels', 'Number of Applicants');
    // createChart('most_applying_schools', 'datatable_most_applying_schools', 'Most Applying Schools', 'Number of Applicants');
    // createChart('most_applying_counties', 'datatable_most_applying_counties', 'Most Applying Counties', 'Number of Applicants');
    // createChart('most_applying_constituencies', 'datatable_most_applying_constituencies', 'Most Applying Constituencies', 'Number of Applicants');
    // createChart('most_applying_wards', 'datatable_most_applying_wards', 'Most Applying Wards', 'Number of Applicants');
});
</script>

{% endblock %}