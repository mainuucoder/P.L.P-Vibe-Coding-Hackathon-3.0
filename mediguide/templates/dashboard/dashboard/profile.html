{% extends 'dashboard/base3.html' %}
{% load static %}
{% block content %}
{% if messages %}
{% for message in messages %}
<script>
  notify('{{message.level_tag}}', "{{message}}");
</script>

{% endfor %}

{% endif %}
<style>
    .ff-el-progress-status {
  color: var( --e-global-color-e62c288 );
  font-family: "Source Sans Pro", Sans-serif;
  font-size: 16px;
  font-weight: 600;
}
.ff-step-header {
  margin-bottom: 20px;
}
.ff-el-progress-bar {
    height:14px !important;
  background-color: #009640;
  text-align: right;
  color:#fff;
}
.thick_header{
    border:1px solid #F5F5F5;
}
.main_profile_header{
    height: 150px;
    border:1px solid #F5F5F5;
    background-color: rgb(175, 175, 175);
    border-radius: 5px;
}
.image_holder{
min-height: 100px;
border-radius: 2px solid #ccc;
border-radius: 50%;
background-color: #009640;
margin-top:-30px;
margin-left:-30px;
}
.banner-container {
            position: relative;
            width: 100%;
            height: 200px; /* Adjust the height of the banner */
            overflow: hidden;
            border:1px solid #ccc;
        }
        .banner-image {
            width: 100%;
            height: auto;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }
        .profile-image {
            width: 150px; /* Set the size of the profile image */
            height: 150px; /* Set the size of the profile image */
            border-radius: 50%;
            position: absolute;
            top: 56%;
            left: 15%;
            transform: translate(-50%, -50%);
            border:1px solid #ccc;
        }
        .upload-form {
            margin-top: 20px;
        }
        .Details_Header{
            margin-top: 10px;
            min-height: 30px;
            background-color: #ccc;
            padding-top: 10px;
            border-radius: 2px;

        }
        .details_body{
            margin-top: 10px;
            min-height: 30px;
            border-bottom:1px solid #ccc;
            padding-top: 10px;
        }
        .box-header{
            text-align: center;
            border-bottom: 1px solid #ccc;

        }
</style>
<div class="row">
    <div class="col-xl-12">
        <div class="card custom-card"  style="padding-bottom:3px !important">
            <div class="card-body" style="padding-bottom:3px !important">
                <div class="col-sm-12" style="background-color: #fff;">
                    <!-- <div class="col-sm-12 main_profile_header"></div>
                    <div class="col-sm-12 main_profile_main">
                        <div class="row">
                        <div class="col-sm-1"></div>
                        <div class="col-sm-1 image_holder"></div>

                    </div>
                    </div>
                    <div class="col-sm-12 main_profile_footer"></div> -->
                    <div class="container">
                        <div class="container">
                            <!-- <h1>Upload Profile</h1> -->
                            <div class="banner-container" style="display:none">
                                {% if user.banner %}
                                    <img src="{{ form.instance.banner_image.url }}" alt="Banner Image" class="banner-image">
                                {% else %}
                                <img src="{% static 'mount.png' %}" alt="Banner Image" class="banner-image">
                                {% endif %}
                            </div>
                    
                            <form method="post" enctype="multipart/form-data" class="upload-form" style="display:none">
                                {% csrf_token %}
                                <div class="form-group">
                                    {{ form.banner_image.errors }}
                                    <label for="id_banner_image" class="control-label">Change Banner Image:</label>
                                    {{ form.banner_image }}
                                </div>
                                <div class="form-group">
                                    {{ form.profile_image.errors }}
                                    <label for="id_profile_image" class="control-label">Change Profile Image:</label>
                                    {{ form.profile_image }}
                                </div>
                                <button type="submit" class="btn btn-primary">Upload</button>
                            </form>
                    
                            <div class="profile-image" style="display:none">
                                {% if form.instance.profile_image %}
                                    <img src="{{ form.instance.profile_image.url }}" alt="Profile Image">
                                {% endif %}
                            </div>

                            <div class="col-sm-12" style="display:none;background: #fff;border:1px solid #ccc;height:100px; border:2px solid #ccc"></div>
                       
                        <div class="col-sm-12">
                            <div class="col-sm-12" style="min-height: 10px;">
                               
                               
                             
                            </div>
                            <div class="card">
                                <div class="card-body">

                                
                            <div class="row">
                                <div class="col-sm-6">
                                    
                                     {% if message %}
                                    <span class="btn btn-danger update_profile_btn" onclick="" aria-disabled="" disabled>
                                        {{message}}
                                   
                                  
                                </span>
                              
                                   {% endif %}
                                </div>
                                <div class="col-sm-6"><span style="float:right" class="btn btn-success update_profile_btn">Edit</span></div>
                                <div class="col-sm-5">
                                    <div class="colsm-12  box-header">BASIC DETAILS</div>
                                    <div class="row">
                                    <div class="col-sm-4 Details_Header"> FIRST NAME</div>
                                    <div class="col-sm-8 details_body">: {% if user.first_name %} {{user.first_name}} {% endif %}</div>
                                </div>
                                    <div class="row">
                                    <div class="col-sm-4 Details_Header"> MIDDLE NAME</div>
                                    <div class="col-sm-8 details_body">: {% if user.middle_name %} {{user.middle_name}} {% endif %}</div>
                                </div>
                                    <div class="row">
                                    <div class="col-sm-4 Details_Header"> LAST NAME:</div>
                                    <div class="col-sm-8 details_body">: {% if user.last_name %} {{user.last_name}} {% endif %}</div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> GENDER:</div>
                                    <div class="col-sm-8 details_body">: {% if user.gender %} {{user.gender}} {% endif %}</div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> NATIONAL ID:</div>
                                    <div class="col-sm-8 details_body">:  {% if user.national_id %} {{user.national_id}} {% endif %}</div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> BIRTH CIRTIFICATE:</div>
                                    <div class="col-sm-8 details_body">: {% if user.birth_certificate %} {{user.birth_certificate|date}} {% endif %}</div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> DATE OF BIRTH:</div>
                                    <div class="col-sm-8 details_body">: {% if user.birth_date %} {{user.birth_date}} {% endif %}</div>
                                </div>
                                </div>
                                <div class="col-sm-1"></div>
                                <div class="col-sm-5">
                                    <div class="colsm-12 box-header">CONTACT AND LOCATION</div>
                                    <div class="row">
                                    <div class="col-sm-4 Details_Header"> EMAIL</div>
                                    <div class="col-sm-8 details_body">: {% if user.email %} {{user.email}} {% endif %}</div>
                                </div>
                                    <div class="row">
                                    <div class="col-sm-4 Details_Header"> PHONE NUMBER</div>
                                    <div class="col-sm-8 details_body">: {% if user.phone_number %} {{user.phone_number}} {% endif %}</div>
                                </div>
                                    <div class="row">
                                    <div class="col-sm-4 Details_Header"> COUNTY:</div>
                                    <div class="col-sm-8 details_body">:{% if user.county %} {{user.county}} {% endif %} </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> SUB-COUNTY:</div>
                                    <div class="col-sm-8 details_body">:{% if user.constituency %} {{user.constituency}} {% endif %} </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> WARD:</div>
                                    <div class="col-sm-8 details_body">: {% if user.ward %} {{user.ward}} {% endif %} </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> NEXT OF KIN EMAIL:</div>
                                    <div class="col-sm-8 details_body">: {% if user.next_of_kin_email %} {{user.next_of_kin_email}} {% endif %}</div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> NEXT OF PHONE:</div>
                                    <div class="col-sm-8 details_body">: {% if user.next_of_kin_phone %} {{user.next_of_kin_phone}} {% endif %} </div>
                                </div>
                                <!-- <div class="row">
                                    <div class="col-sm-4 Details_Header"> BIRTH CIRTIFICATE:</div>
                                    <div class="col-sm-8 details_body">: {{user.first_name}}</div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 Details_Header"> DATE OF BIRTH:</div>
                                    <div class="col-sm-8 details_body">: {{user.first_name}}</div>
                                </div> -->
                                </div>
                            </div>
                        </div>
                    </div>
                        </div>
                    </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal-staff">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
        </div>
    </div>
  </div>
  

<script src="{% static 'assets/js/jquery.min.js' %}"></script>
<script>
    $(document).ready(function(){
        var message='{{message}}'
        
        if (message){
            $.get('/update-profile-details/',function(data){
                $("#modal-staff").modal("show");                         
                $(".modal-content").html(data)
            })

        }else{

        }
        // alert()
        $(".update_profile_btn").click(function(){
            $.get('/update-profile-details/',function(data){
                $("#modal-staff").modal("show");                         
                $(".modal-content").html(data)
            })
        })
    })
</script>

{% endblock %}