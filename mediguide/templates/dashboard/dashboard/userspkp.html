{% extends 'dashboard/base3.html' %}
{% load static %}
{% block content %}
{% if messages %}
{% for message in messages %}
<script>
  notify('{{message.level_tag}}', "{{message}}");
</script>

{% endfor %}

{% endif %}
<style>
    .ff-el-progress-status {
  color: var( --e-global-color-e62c288 );
  font-family: "Source Sans Pro", Sans-serif;
  font-size: 16px;
  font-weight: 600;
}
.ff-step-header {
  margin-bottom: 20px;
}
.ff-el-progress-bar {
    height:14px !important;
  background-color: #009640;
  text-align: right;
  color:#fff;
}
.thick_header{
    border:1px solid #F5F5F5;
}
.learndash-course-list__course  {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  background-color: #fff;
  border-radius: 10px;
}

.ld-course-list-item {
  background-color: #f5f5f5;
  border-radius: 5px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding: 20px;
  width: calc(33.33% - 10px);
  margin-bottom: 20px;
}
.main-learning-body{
min-height: 120px;
border-radius: 10px;
background-color: #fff;
}
.learning-body{margin-top: 5px;margin-bottom: 5px;}
.main-image-body{
    min-height: 150px;
    
    background-repeat: no-repeat;
    background-position: center;
    background-size: 100%;
}
.learning-title{
    padding-left: 5px;
}
.main-text-body{
    padding-top: 10px;
}
.not_shown{
    display: none;
}
</style>
<div class="row">
    <div class="col-xl-12">
        <div class="card custom-card"  style="padding-bottom:3px !important">
            <div class="card-body" style="padding-bottom:3px !important">
                <div class="ff-step-header">
                    <div class="ff-el-progress-status">Welcome {{user.first_name}}... <br><soan style="font-size:12px">Profile Completion {{profile}}%</soan></div>
                        <div class="ff-el-progress">
                        {% if profile > 50 %}
                                        
                                    <div class="ff-el-progress-bar" style="width: 100%;"><span>100%</span></div>
                                 
                                  {% else %}
                                     
                            <div class="ff-el-progress-bar" style="width: 20%;"><span>20%</span></div>
                         {% endif %}
             </div>
             </div>
            </div>
        </div>
    </div>
</div>
<!--End::row-1 -->

<!-- Start::row-2 -->
<div class="row">
    <div class="col-xl-12">
        <div class="tab-content">
            <div class="tab-pane show active p-0 border-0" id="stocks-portfolio" role="tabpanel">
              
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card custom-card">
                            <div class="card-header justify-content-between">
                                <div class="card-title mb-2 mb-sm-0">
                                    My Registered Training
                                </div>
                                <!-- <div class="btn-group" role="group" aria-label="Basic example">
                                    <button type="button" class="btn btn-primary btn-sm btn-wave waves-effect waves-light">1D</button>
                                    <button type="button" class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">1W</button>
                                    <button type="button" class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">1M</button>
                                    <button type="button" class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">3M</button>
                                    <button type="button" class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">6M</button>
                                    <button type="button" class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">1Y</button>
                                </div> -->

                            </div>
                            <div class="card-body">
                                


                                <table class='table loadtable ' id="">
                                    <thead style="font-size: 11px; background-color:#01a653;color:#fff" class="head-secondary-header" >
                                      <tr class="primary_backgroud">
                                        <th class="primary_backgroud thick_header">CODE</th>
                                        <th class="primary_backgroud thick_header">TITLE</th>
                                     
                                        <!-- <th>INSTITUTION</th> -->
                                     
                                        <th class="primary_backgroud thick_header">CATEGORY</th>
                                        <th class="primary_backgroud thick_header">STATUS</th>
                                        <!-- <th>ACTIONS</th> -->
                                      </tr>
                                    </thead>
                              {% for item in registrations %}
                                    <tr>
                                      <td>{{item.training.code}}</td>
                                      <td style="">
                                     {{item.training.name}}
                                    </td>
                                 
                                      <td style="">
                                    
                        {{item.category}}
                                      </td>
                                    
                        
                                      <!-- <td style="display:none;">
                                    </td>
                                    
                                      <td>
                                      
                                      </td> -->
                                      <td>
                                        <!-- {{item.is_incomplete}} -->
                                     {% if item.is_complete %}
                                     <!-- <label class="label label-success">Complete</label> -->
                                     <label class="">Complete</label>
                                     {% else %}
                                      
                                     <label class="">Incomplete</label>
                                     <a href="{% url 'training-registration' item.id %}"><span class="btn icta-btn-success primary_backgroud">Complete</span></a>
                                     {% endif %}
                                      
                                      </td>
                                    </tr>
                                    {% endfor %}
                        
                                  </table>
                        


                             
                              
                                <div id="totalInvestmentsStats"></div>
                            </div>
                        </div>
                    </div>
                 <div class="col-xl-12">

                    {% for instance in trainings %}
                        <div class="card custom-card">
                            <div class="card-header justify-content-between">
                                <div class="card-title col-sm-12">
                                    {{instance.title}}
                                    {% if instance.category.code == 'done' %}
                                    {% else %}
                                    {% if instance.category.id == 2 %} <a href="{% url 'registration-basic' 'basic' %}"><span class="btn btn-success" style="float:right">Register</span></a>  {% endif %}
                                    {% if instance.category.id == 1 %} <a href="{% url 'registration-basic' 'foundational' %}"><span class="btn btn-success" style="float:right">Register</span></a>  {% endif %}

                                    {% endif %}
                                </div>
                                <div class="d-flex flex-wrap gap-2">
                                    <!-- <div class="mb-2 mb-sm-0">
                                        <input class="form-control form-control-sm" type="text" placeholder="Search Any Stock" aria-label=".form-control-sm example">
                                    </div>
                                    <div class="dropdown">
                                        <a href="javascript:void(0);" class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light" data-bs-toggle="dropdown" aria-expanded="false">
                                            Sort By<i class="ri-arrow-down-s-line align-middle ms-1 d-inline-block"></i>
                                        </a>
                                        <ul class="dropdown-menu" role="menu">
                                            <li><a class="dropdown-item" href="javascript:void(0);">New</a></li>
                                            <li><a class="dropdown-item" href="javascript:void(0);">Popular</a></li>
                                            <li><a class="dropdown-item" href="javascript:void(0);">Relevant</a></li>
                                        </ul>
                                    </div> -->
                                </div>
                            </div>
                            <div class="card-body p-0" >
                               
                            </div>
                        </div>
                      
                        <div class="row">
                           
                            {% for item in instance.list %}
                            <div class="col-sm-3 learning-body  {% if forloop.counter > 4 %} not_shown courses courses{{instance.category.id}}{% endif %}" >
                                <div class="col-sm-12 learndash-course-list__course " >
                                    <div class="col-sm-12 main-image-body" style="background-image: url('{% static instance.image %}');">
                            
                                        </div>
                                        <div class="col-sm-12 main-text-body">
                                            
                                        <div class="col-sm-12 learning-title">
                                            {{item}}
                                        </div>
                                      
                                        {% if instance.category.id == 2 or instance.category.id == 1  %}
                                        {% if  instance.category.code == 'done' %}
                                        <div class="col-sm-12" style="padding-right: 10px; margin-bottom: 10px;text-align: right;color:#01a653">
                                            <i class="fa fa-check"></i><i class="fa fa-check"></i>
                                            </div>
                                            {% endif %}
                                        {% else %}
                                        {% if  item.code == 'done' %}
                                        <div class="col-sm-12" style="padding-right: 10px; margin-bottom: 10px;text-align: right;color:#01a653">
                                        <i class="fa fa-check"></i><i class="fa fa-check"></i>
                                        </div>
                                        {% else %}
                                        <div class="col-sm-12" style="padding-right: 10px; margin-bottom: 10px;">
                                           <a href="{% url 'training-registration' item.id %}"> <span  style="float: right;" class="btn icta-btn-success">Register..</span></a>
                                        </div>
                                         {% endif %}
                                         {% endif %}
                                       </div>
                                       <div class="col-sm-12" style="min-height: 10px;"></div>

                                    </div>
                               
                           
                            </div>
                           {% endfor %}
                           <div class="row">

                            <div class="col-sm-12" style="margin-bottom: 10px;">

                                <span class="btn icta-btn-danger show_courses  " role="{{instance.category.id}}" >Load more..</span>
                            </div>
                           </div>
                           <hr>
                           </div>
                        {% endfor %}
                    </div> 
                </div>
    
                
            </div>
        
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>

    $(document).ready(function(){
        $(".show_courses").click(function(){
            var role=$(this).attr('role')
            // alert(role)
            $('.courses').hide()
            $('.courses'+role).show()
            $(".show_courses").show()
            $(this).hide()

        })
    })
    </script>

{% endblock %}