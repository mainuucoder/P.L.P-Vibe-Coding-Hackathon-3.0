
{% load static %}

{% if messages %}
{% for message in messages %}

<script>
notify('{{message.level_tag}}', "{{message}}");
</script>

{% endfor %}

{% endif %}
<style>

    
    
    
    
.dropbtn {
      color: #000;
      padding: 1px;
      font-size: 1px;
      border: none;
      cursor: pointer;
    }
    
    /* The container <div> - needed to position the dropdown content */
    .dropdown {
      position: relative;
      display: inline-block;
    }
    
    /* Dropdown Content (Hidden by Default) */
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 200px;
      left:-144px;
      height: 300px !important;
      overflow: auto;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 9;
    }
    
    /* Links inside the dropdown */
    .dropdown-content a {
      color: black;
      /* padding: 12px 16px; */
      text-decoration: none;
      display: block;
    }
    .btn-app-dropdown:hover{
      background-color: #ccc;
    }
    .btn-app-dropdown{
      Border-bottom:1px solid #ccc
    }
    /* Change color of dropdown links on hover */
    /* .dropdown-content a:hover {background-color: #f1f1f1} */
    
    /* Show the dropdown menu on hover */
    .dropdown:hover .dropdown-content {
      display: block;
    }
    
    /* Change the background color of the dropdown button when the dropdown content is shown */
    .dropdown:hover .dropbtn {
      
    }
    .final-actionbtns{
      text-align: left;
    }
    .basic_tabs{
      margin-top: 2px;
      text-align: left !important;
    }
    .not_shown{
      display: none;
    }
    .btn-primary{
    background:#111c43 !important

}

</style>
      <div class="row">
        <div class="col-12" style="margin-bottom:3px ;">
        
          <div class="row">
          <div class="col-sm-6"><span class="back-to-main btn btn-primary">Back</span></div>
          <div class="col-sm-6">
            {% if level == 'trainee' %}
            {% else %}
            <div class="row">
                <!-- <div class="col-sm-12">
                    <span class="btn btn-success " style="float: right;" id="add-new-class"><i class="fa fa-plus" aria-hidden="true"></i> Add New</span>
           
                </div> -->
              
          <!-- <div class="col-sm-1"></div>
          <div class="btn btn-success col-sm-3" style="" id="Downloadcsv"><i class="fa fa-download" aria-hidden="true"></i> Sample csv</div>
         
              
            <div class="col-sm-1"></div>
          <div class="btn btn-success col-sm-3" style="" id="Addusers"><i class="fa fa-upload" aria-hidden="true"></i> Upload Users</div> -->
           </div>
           {% endif %}
      </div>
      <div class="col-sm-12" style="text-transform: uppercase;">LIST OF {{Title}}</div>
    </div>
      </div>
      </div>
      <div class="row">
        
        <div class="col-12" style="margin-bottom:3px ;">
          
                 <div class="col-sm-12 data-views data-display" style="padding: 0px;" id="data-display"></div>
                 <div class="col-sm-12 data-views table-display" style="padding: 0px;" id="table-display">
            
                  
                 
                    <div class="col-sm-12 ">
                        <span class="btn btn-success add-new-class " role="{{item.county.id}}" style="float: right;" id="add-new-class"><i class="fa fa-plus" aria-hidden="true"></i> Add New</span>
               
                    </div>
          <table class='table col-sm-12 file-export export-table table-striped  text-nowrap w-100' id="file-export">
            <thead style="font-size: 11px;background: #07aa91;color:#fff">
              <tr>
                <th>#</th>
                <th>CLASS NAME</th>
                <th>TRAINER</th>
                <th>CLASS REPRESENTATIVE</th>
                <th>TRAINEES ASSIGNED </th>
                <th>TRAINEES TRAINED</th>
                <th>TRAINEES CERTIFIED</th>
                <th>ACTIONS</th>
              </tr>
            </thead>
            {% for instance in list %}
            <tr>
              <td>{{forloop.counter}}</td>
              <td>{{instance.name}}</td>
              <td>{{instance.teacher.first_name}} {{instance.teacher.last_name}}</td>
              <td>
                {% if instance.class_rep %}
                {{instance.class_rep}}
                {% endif %}


              </td>
              <td>{{instance.trainees_assigned}}</td>
              <td>{{instance.trainees_trained}}</td>
              <td>{{instance.trainees_certified}}</td>
              <td>

              
    <div class="dropdown" style="">
      <div class="dropbtn" style="color:#000;background:#fff;font-size:12px;"><i class="fa fa-list"></i></div>
      <div class="dropdown-content row" style="margin-top:-60px;min-height: 60px;max-height: 60px;overflow: auto;">
     
        <label style="font-weight: initial !important" class="">
        <span class="btn col-sm-12 btn-app-dropdown final-actionbtns " name="view-trainee" role='{{instance.id}}'>
        Trainees
        </span>
      </label>
        <label style="font-weight: initial !important" class="">
        <span class="btn col-sm-12 btn-app-dropdown final-actionbtns view_requirements" name="trainee-attendance" role='{{instance.id}}'>
        Attendance
        </span>
       </label>
     
      </div>
    </div>


<!-- 
<span class="btn update-class-details" role="{{instance.id}}"><i class="fa fa-edit"></i></span>
<span class="btn delete-class-details" role="{{instance.id}}"><i class="fa fa-trash"></i></span> -->
              </td>
            </tr>
            {% endfor %}
          </table>
          
          </div>
  </div>


<!-- <div class="modal fade" id="modal-staff">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
      </div>
  </div>
</div> -->









<script src="{% static 'assets/js/jquery.min.js' %}"></script>




<script>
  $(document).ready(function(){
    
    var csrfmiddlewaretoken= '{{csrf_token}}';
    var level='{{level}}'
    var level_name='GET'
    // alert(level)
$(".back-to-main").click(function(){
  $(".main_tables").hide()
     $(".major_table").show()
})


 $(".add-new-class").click(function(){
    //  alert()
    var institution='{{institution.id}}'
    // var level='manage-classes'
    // alert(institution)
    // alert(institution)
     $.post('/create-new-students-class/',{institution:institution,level:level,csrfmiddlewaretoken:csrfmiddlewaretoken,level_name:level_name},function(data){
      $(".data-views").hide()
      $(".data-display").html(data).show()
      $("#back-to-view").hide()
      // $(".modal-staff").modal("show");                         
      // $(".modal-content").html(data)
        //$('.content-wrapper').html(data)
 })
 
 })
 

 $(".final-actionbtns").click(function(){
  var url=$(this).attr('name')
  var instance=$(this).attr('role')
  $.post('/'+url+'/',{level:level,level_name:level_name,instance:instance,csrfmiddlewaretoken:csrfmiddlewaretoken},function(data){
    $(".data-views").hide()
      $(".home").html(data).show()
      
  })
 })
})
 
</script>